# Missing values

####First draft 1018

Import function plot_patterns(df, percent = TRUE) from the .R file.
```{r, include=FALSE}
library(tidyverse)
library(dplyr)
source("missing_patterns.R", local = knitr::knit_global())
```

Examine the missing values on a subset of the data set. 

Since our data have large size and different type of columns, to analyze the missing value more correctly, we divide the data by their types. In our data, column2-5 are about group and type of the disaster. Column 6-9 are region of the disaster such as country, location. Column 10-12 are origin and asso. Column 13-15 are apeal, dec and aid. Column16-17 are scale and value. Column 18-23 is time. Column24-28 are human impact and economic impact.Then we make different plots of missing values.

```{r}
# divide by group
group_type <- natural[,c(2:5)]
plot_patterns(group_type, percent = TRUE)
```
This is the plot of missing value of column2-5, about type of the disaster. from the plot, we are able to see the subsubtype (Severe storm, Tornado, Lightning, etc.) has the most missing values, and subtype(Drought, Ground movement, Cold wave, etc.) have smaller missing values. Subgroup(include Climatological, Geophysical, Meteorological) and type(Flood, storm, etc) have no missing values based on column.

```{r}
# divide by group
location <- natural[,c(6:9)]
plot_patterns(location, percent = TRUE)
```

This is the plot of missing value of column6-9, about egion of the disaster. from the plot, we are able to see that there are no missing values in all of those columns which are Country, ISO, Region and Continent.


```{r}
# divide by group
origin <- natural[,c(10:12)]
plot_patterns(origin, percent = TRUE)
```

This is the plot of missing value of column10-12, about origin and two assos of the disaster. from the plot, we are able to see that three of them has evenly amount of missing values. The most missing value in pattern is the row of missing all three of them.


```{r}
# divide by group
apeal <- natural[,c(13:15)]
plot_patterns(apeal, percent = TRUE)
```

This is the plot of missing value of column13-15, about apeal, declaration and aid of the disaster. from the plot, three of them have evenly amount of missing values. But we can still see that the aid has the most missing values. Also, the row with all three of them missing have largest amount.

```{r}
# divide by group
scale_value <- natural[,c(16:17)]
plot_patterns(scale_value, percent = TRUE)
```

This is the plot of missing value of column 16-17, about scale and value of the disaster. from the plot, the value has more missing than the scale. From the right hand side plot about pattern, we can also see that the row with value missing and scale not missing has the greatest amount. Also, the pattern of rows with both value and scale not missing has the second large amount, which is a good result for analyzing.

```{r}
# divide by group
time <- natural[,c(18:23)]
plot_patterns(time, percent = TRUE)
```
This is the plot of missing value of column18-23, about times of the disaster. The plot shows that there are no missing valus according to start year nad end year. The two largest missing columns are start say and end day, which is reasonalbe since the the day is harder to record than month and year. From the pattern plot, the parrtern of rows with both start day and end day missing has the largest amount. 


```{r}
# divide by group
impact <- natural[,c(24:28)]
plot_patterns(impact, percent = TRUE)
```

This is the plot of missing value of column24-28, about human impact and economic impact of the disaster. from the plot, all of the columns of impact has missing values, but the total_affacted column has the smallest amount. The column with greatest missing values is No_Homeless, and No_Injured has lesser but similar amount of missing values. 























